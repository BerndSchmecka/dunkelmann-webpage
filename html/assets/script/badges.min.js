/*! *****************************************************************************
Copyright (c) Dunkelmann 2022. All rights reserved.

This code is licensed under the BSD License
You should have received a copy of the BSD License
with this code and it is also available through
the world-wide-web at <https://files.dunkelmann.eu/license.txt>.
If you did not receive a copy of the BSD License
and are unable to obtain it through the world-wide-web,
please send a note to <business@dunkelmann.eu> so we can mail you a copy
immediately.
***************************************************************************** */
let BADGES_EP="aHR0cHM6Ly9hcGkuZHVua2VsbWFubi5ldS90czNiYWRnZXM=";decodeBase64=function(a){var e,d,s={},t=65,n=0,r=0,i="",c=String.fromCharCode,u=a.length;for(e="";91>t;)e+=c(t++);for(e+=e.toLowerCase()+"0123456789+/",t=0;64>t;t++)s[e.charAt(t)]=t;for(e=0;e<u;e++)for(n=(n<<6)+(t=s[a.charAt(e)]),r+=6;8<=r;)((d=n>>>(r-=8)&255)||e<u-2)&&(i+=c(d));return i},parseUnixTime=function(a){var e=new Date(1e3*a),d="0"+e.getDate(),s="0"+(e.getMonth()+1),t=e.getFullYear(),n="0"+e.getHours(),r="0"+e.getMinutes(),i="0"+e.getSeconds();return d.substr(-2)+"."+s.substr(-2)+"."+t+" - "+n.substr(-2)+":"+r.substr(-2)+":"+i.substr(-2)},Vue.component("badge-card",{props:["card"],template:'\n    <div class="col-md-auto">\n    <div class="badge-object">\n        <div class="badge-icon">\n            <img class="badge-image" :src="card.base_url + \'_details.svg\'" :alt="card.name">\n        </div>\n        <div class="badge-icon">\n            <img class="badge-image" :src="card.base_url + \'.svg\'" :alt="card.name">\n        </div>\n        <div class="badge-name">\n            <div class="badge-name-text">{{ card.name }}</div>\n        </div>\n        <div class="badge-desc">\n            <div class="badge-small-text">{{ card.description }}</div>\n        </div>\n        <div class="badge-uuid">\n            <div class="badge-guid-text">{{ card.uuid }}</div>\n        </div>\n        <div class="badge-date">\n            <div class="badge-small-text">{{ card.date }}</div>\n        </div>\n    </div>\n</div>\n    '});var app=new Vue({el:"#badgesApp",data:{rev:0,lastMod:0,cards:[]},created:function(){this.queryBadges()},methods:{queryBadges:function(){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){var e=JSON.parse(a.responseText);app.cards=[],app.rev=e.value,app.lastMod=e.timestamp,e.badges.forEach(a=>{app.cards.push({uuid:a.uuid,name:a.name,base_url:a.url,description:a.description,date:parseUnixTime(a.timestamp),value:a.value})})}},a.open("GET",decodeBase64(BADGES_EP)),a.send()}}});
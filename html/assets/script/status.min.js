/*! *****************************************************************************
Copyright (c) Dunkelmann 2021. All rights reserved.

This code is licensed under the BSD License
You should have received a copy of the BSD License
with this code and it is also available through
the world-wide-web at <https://files.dunkelmann.eu/license.txt>.
If you did not receive a copy of the BSD License
and are unable to obtain it through the world-wide-web,
please send a note to <business@dunkelmann.eu> so we can mail you a copy
immediately.
***************************************************************************** */
let STATUS_URL="aHR0cHM6Ly9hcGkuZHVua2VsbWFubi5ldS9zdGF0dXM=";decodeBase64=function(t){var e,s,a={},n=65,r=0,u=0,d="",i=String.fromCharCode,o=t.length;for(e="";91>n;)e+=i(n++);for(e+=e.toLowerCase()+"0123456789+/",n=0;64>n;n++)a[e.charAt(n)]=n;for(e=0;e<o;e++)for(r=(r<<6)+(n=a[t.charAt(e)]),u+=6;8<=u;)((s=r>>>(u-=8)&255)||e<o-2)&&(d+=i(s));return d};let dict={website:"Homepage",api:"Dunkelmann-API",matrix:"Chat-Server (Synapse)",insomnium:"Chat-Server (Insomnium)",mail:"Mail-Server (Postfix)",cloud:"Dunkelmann-Cloud"};Vue.component("status-service",{props:["status"],template:'\n\t<tr :id="status.id">\n\t<th scope="col">{{ status.name }}</th>\n\t<td>{{ status.id }}</td>\n\t<td>{{ status.url }}</td>\n\t<td><i :class="status.status.classes"></i> {{ status.status.message }}</td>\n\t</tr>\n\t'});var app=new Vue({el:"#statusApp",data:{services:[]},created:function(){this.requestData()},methods:{getClassText:function(t){return 200<=t&&t<=299?"success":300<=t&&t<=399?"redirection":400<=t&&t<=499?"warning":500<=t&&t<=599?"danger":600<=t&&t<=699?"primary":"secondary"},requestData:function(){var t=new XMLHttpRequest;t.onreadystatechange=function(){4===t.readyState&&200===t.status?JSON.parse(t.responseText).forEach(function(t){app.services.push({name:dict[t.id],id:t.id,url:t.url,status:{classes:`fas fa-circle text-${app.getClassText(t.statusCode)}`,message:`${t.statusCode} ${t.statusDesc}`}})}):t.readyState},t.open("GET",decodeBase64(STATUS_URL)),t.send()}}});
/*! *****************************************************************************
Copyright (c) Dunkelmann 2021. All rights reserved.

This code is licensed under the BSD License
You should have received a copy of the BSD License
with this code and it is also available through
the world-wide-web at <https://files.dunkelmann.eu/license.txt>.
If you did not receive a copy of the BSD License
and are unable to obtain it through the world-wide-web,
please send a note to <business@dunkelmann.eu> so we can mail you a copy
immediately.
***************************************************************************** */
let TS3_EP="aHR0cHM6Ly9hcGkuZHVua2VsbWFubi5ldS90czN2ZXJzaW9u",TS5_EP="aHR0cHM6Ly9hcGkuZHVua2VsbWFubi5ldS90czV2ZXJzaW9u",STABLE_URL="aHR0cHM6Ly90ZWFtc3BlYWsuY29tL2VuL2Rvd25sb2Fkcy8jY2xpZW50",SERVER_URL="aHR0cHM6Ly90ZWFtc3BlYWsuY29tL2VuL2Rvd25sb2Fkcy8jc2VydmVy",BETA_URL="",ALPHA_URL="",TS5_URL="aHR0cHM6Ly93d3cudGVhbXNwZWFrLmNvbS9kZS9kb3dubG9hZHMvI3RzNQ==";decodeBase64=function(e){var t,n,a={},s=65,o=0,r=0,i="",c=String.fromCharCode,l=e.length;for(t="";91>s;)t+=c(s++);for(t+=t.toLowerCase()+"0123456789+/",s=0;64>s;s++)a[t.charAt(s)]=s;for(t=0;t<l;t++)for(o=(o<<6)+(s=a[e.charAt(t)]),r+=6;8<=r;)((n=o>>>(r-=8)&255)||t<l-2)&&(i+=c(n));return i},parseUnixTime=function(e){var t=new Date(1e3*e),n="0"+t.getDate(),a="0"+(t.getMonth()+1),s=t.getFullYear(),o="0"+t.getHours(),r="0"+t.getMinutes(),i="0"+t.getSeconds();return n.substr(-2)+"."+a.substr(-2)+"."+s+" "+o.substr(-2)+":"+r.substr(-2)+":"+i.substr(-2)},requestJSON=function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var e=JSON.parse(n.responseText);t(e)}},n.open("GET",decodeBase64(e)),n.send()};var TS3Table=new Vue({el:"#ts3version",data:{channels:[]},created:function(){this.request()},methods:{request:function(){requestJSON(TS3_EP,this.pushAllElements)},pushAllElements:function(e){e.versions.forEach(e=>{this.pushElement(e)})},pushElement:function(e){TS3Table.channels.push({channel:e.channel[0].toUpperCase()+e.channel.substring(1),version:e.version,timestamp:e.timestamp,time:parseUnixTime(e.timestamp),download:getDownloadButton(e.channel)})}}}),TS5Table=new Vue({el:"#ts5version",data:{channels:[]},created:function(){this.request()},methods:{request:function(){requestJSON(TS5_EP,this.pushAllElements)},pushAllElements:function(e){e.versionInfo.forEach(e=>{this.pushElement(e)})},pushElement:function(e){TS5Table.channels.push({channel:e.platformName[0].toUpperCase()+e.platformName.substring(1),version:e.platformInfo.version,timestamp:e.platformInfo.timestamp,time:parseUnixTime(e.platformInfo.timestamp),download:{class:"btn btn-primary",onclick:"window.open(decodeBase64(TS5_URL), '_blank').focus();"}})}}}),video=new Vue({el:"#vid",data:{poster:""}});jebaited=function(){video.$el.play();for(var e=document.querySelectorAll("div,table,p,code,tr,td,th"),t=0;t<e.length;t++)e[t].className+=" special";var n=document.querySelectorAll(".bg-primary,.accordion-button,.btn-primary,.btn-danger");for(t=0;t<n.length;t++)n[t].style.setProperty("background-image","url(assets/special/rainbow.gif)","important")},getDownloadButton=function(e){return"beta"==e.toLowerCase()?{class:"btn btn-primary",toggle:"modal",target:"#modalBeta"}:"alpha"==e.toLowerCase()?{class:"btn btn-danger cursor-not-allowed",onclick:"jebaited();"}:{class:"btn btn-primary",onclick:"window.open(decodeBase64("+e.toUpperCase()+"_URL), '_blank').focus();"}},window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,video.poster="assets/thumbnails/white.png",window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches;video.poster="assets/thumbnails/white.png"});